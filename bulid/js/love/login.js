define(["jquery"],function(n){var o=window.localStorage;n("button").on("click",function(){var t=n(".user").val().trim(),e=n(".pwd").val().trim(),a="",s={pone:/^1[5689]\d{9}$/,pwd:/^[a-z0-9]{5,10}$/i,num:/^[a-z]{5,10}$/i,w:/^[0-9]{5,10}$/i};""==t||""==e?a="用户名或密码不能为空":s.pone.test(t)&&s.pwd.test(e)?s.num.test(e)||s.w.test(e)?a="密码不能为纯数字或字母":n(this).hasClass("login")?n.ajax({url:"/api/login",type:"post",dataType:"json",data:{user:t,pwd:e},success:function(t){1==t.code?(alert(t.mes),history.go(-1),o.setItem("username",1)):alert(t.mes)}}):n.ajax({url:"/api/register",type:"post",dataType:"json",data:{user:t,pwd:e},success:function(t){alert(t.mes)}}):a="用户或密码有误，请重新登录",a&&alert(a)})});